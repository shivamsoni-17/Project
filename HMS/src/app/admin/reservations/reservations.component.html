<section class="page">
  <h2>Reservations</h2>
  <div class="filters">
    <input placeholder="User ID" [(ngModel)]="filters.userId">
    <input placeholder="Room No" [(ngModel)]="filters.roomNo">
    <label>From <input type="date" [(ngModel)]="filters.from"></label>
    <label>To <input type="date" [(ngModel)]="filters.to"></label>
    <button (click)="load()">Search</button>
  </div>
  <div class="msg" *ngIf="message">{{ message }}</div>

  <table class="table" *ngIf="reservations.length">
    <thead><tr><th>ID</th><th>User</th><th>Room</th><th>Check-in</th><th>Check-out</th><th>Status</th><th>Actions</th></tr></thead>
    <tbody>
      <tr *ngFor="let r of reservations">
        <td>{{ r.id }}</td>
        <td>{{ r.userId }}</td>
        <td>{{ r.roomNo }}</td>
        <td><input type="date" [(ngModel)]="r.checkInDate"></td>
        <td><input type="date" [(ngModel)]="r.checkOutDate"></td>
        <td>{{ r.status }}</td>
        <td>
          <button (click)="update(r)">Update</button>
          <button (click)="cancel(r.id)">Cancel</button>
        </td>
      </tr>
    </tbody>
  </table>
  <div *ngIf="!reservations.length && !message" class="muted">No reservations found.</div>
</section>
