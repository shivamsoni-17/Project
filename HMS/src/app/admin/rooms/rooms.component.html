<section class="page">
  <h2>Rooms</h2>
  <div class="form-grid">
    <label>Room No <input [(ngModel)]="form.roomNo" type="number"></label>
    <label>Type
      <select [(ngModel)]="form.type">
        <option *ngFor="let t of ['SINGLE','DOUBLE','TWIN','SUITE','DELUXE','FAMILY']" [value]="t">{{ t }}</option>
      </select>
    </label>
    <label>Price <input [(ngModel)]="form.price" type="number" step="0.01"></label>
    <label>Status
      <select [(ngModel)]="form.status">
        <option *ngFor="let s of ['VACANT','OCCUPIED','MAINTENANCE']" [value]="s">{{ s }}</option>
      </select>
    </label>
    <label>Availability Date <input [(ngModel)]="form.availabilityDate" type="date"></label>
    <button (click)="save()">Save</button>
  </div>
  <div class="msg" *ngIf="message">{{ message }}</div>

  <table class="table" *ngIf="rooms.length">
    <thead><tr><th>No</th><th>Type</th><th>Price</th><th>Status</th><th>Available</th><th>Actions</th></tr></thead>
    <tbody>
    <tr *ngFor="let r of rooms">
      <td>{{ r.roomNo }}</td>
      <td>{{ r.type }}</td>
      <td>{{ r.price }}</td>
      <td><span class="chip" [ngClass]="r.status?.toLowerCase()">{{ r.status }}</span></td>
      <td>{{ r.availabilityDate || '-' }}</td>
      <td>
        <button (click)="setStatus(r.roomNo, 'VACANT')">Vacant</button>
        <button (click)="setStatus(r.roomNo, 'MAINTENANCE')">Maintenance</button>
      </td>
    </tr>
    </tbody>
  </table>
</section>
